<!DOCTYPE HTML>
<!--
	Telephasic by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Actividad #4 - 180370</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="no-sidebar is-preload">
		<div id="page-wrapper">

			<!-- Header -->
				<div id="header-wrapper">
					<div id="header" class="container">

						<!-- Logo -->
							<h1 id="logo"><a href="index.html">REGRESAR</a></h1>
					</div>
				</div>

			<!-- Main -->
				<div class="wrapper">
					<div class="container" id="main">

						<!-- Content -->
						<article id="content">
							<header>
								<h2>ACTIVIDAD #4</h2>
							</header>

							<p>
							En esta actividad se analiza un conjunto de reglas aplicadas bajo un enfoque 
							de política restrictiva por defecto (default deny), alineado con buenas prácticas 
							recomendadas en guías de hardening de servidores Linux.
							</p>

							<hr>

							<h3>Escenario de red aplicado</h3>

							<a class="image featured">
							  <img src="images/act4_t1.PNG" alt="Diagrama de reglas de firewall" />
							</a>

							<p>
							Topología lógica representativa:
							</p>

							<pre>
											Internet
												|
											[Firewall Linux]
												|
									----------------------------
									|                          |
							 [192.1.2.10] SMTP         [192.1.2.11] Web
									|
							   Red interna 192.1.2.0/24
							</pre>

							<p>
							El firewall controla el tráfico hacia servidores específicos dentro de la red 192.1.2.0/24.
							</p>

							<hr>

							<h3>Análisis detallado de reglas</h3>

							<h4>Regla 1 – Política restrictiva global</h4>

							<p><strong>Comando:</strong></p>

							<pre>
							iptables -P INPUT DROP && iptables -P OUTPUT DROP && iptables -P FORWARD DROP
							</pre>

							<ul>
							  <li>Define política por defecto en <strong>DROP</strong> para todas las cadenas principales.</li>
							  <li>Implementa el principio de <em>denegación por defecto</em>.</li>
							  <li>Todo tráfico debe ser explícitamente autorizado.</li>
							</ul>

							<p>
							Este enfoque es recomendado en manuales de administración segura de servidores Linux.
							</p>

							<hr>

							<h4>Regla 2 – Permitir tráfico establecido</h4>

							<pre>
							iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
							</pre>

							<ul>
							  <li>Permite paquetes pertenecientes a conexiones ya establecidas.</li>
							  <li>Evita bloquear respuestas legítimas del servidor.</li>
							</ul>

							<p>
							El uso de <strong>state</strong> (o conntrack) implementa inspección con seguimiento de estado (stateful firewall).
							</p>

							<hr>

							<h4>Regla 3 – Salida TCP autorizada para la subred</h4>

							<pre>
							iptables -A OUTPUT -p tcp -s 192.1.2.0/24 -j ACCEPT
							</pre>

							<ul>
							  <li>Permite tráfico TCP saliente desde la red interna.</li>
							  <li>Facilita comunicación hacia servicios externos.</li>
							</ul>

							<hr>

							<h4>Regla 4 – Publicación del servidor SMTP</h4>

							<pre>
							iptables -A INPUT -p tcp -d 192.1.2.10 --dport 25 -m state --state NEW -j ACCEPT
							</pre>

							<ul>
							  <li>Permite nuevas conexiones TCP hacia el puerto 25 (SMTP).</li>
							  <li>Restringe el acceso únicamente al servidor de correo.</li>
							</ul>

							<p>
							Esto reduce la exposición de otros equipos de la red.
							</p>

							<hr>

							<h4>Regla 5 – Respuesta del servicio de correo</h4>

							<pre>
							iptables -A OUTPUT -p tcp -s 192.1.2.10 --sport 25 -j ACCEPT
							</pre>

							<ul>
							  <li>Permite tráfico saliente originado desde el puerto 25.</li>
							  <li>Autoriza respuestas del servidor SMTP.</li>
							</ul>

							<hr>

							<h4>Regla 6 – Publicación del servidor web</h4>

							<pre>
							iptables -A INPUT -p tcp -d 192.1.2.11 --dport 80 -m state --state NEW -j ACCEPT
							</pre>

							<ul>
							  <li>Permite nuevas conexiones HTTP hacia el servidor web.</li>
							  <li>Limita el acceso exclusivamente al equipo 192.1.2.11.</li>
							</ul>

							<hr>

							<h4>Regla 7 – Navegación web desde la red interna</h4>

							<pre>
							iptables -A OUTPUT -p tcp -s 192.1.2.0/24 --dport 80 -j ACCEPT
							</pre>

							<ul>
							  <li>Permite tráfico TCP saliente hacia el puerto 80.</li>
							  <li>Habilita navegación HTTP desde la subred interna.</li>
							</ul>

							<hr>

							<h3>Conclusión</h3>

							<p>
							El conjunto de reglas analizado demuestra una configuración estructurada 
							basada en el principio de mínimo privilegio y segmentación lógica de servicios. 
							Al establecer políticas DROP por defecto y permitir únicamente tráfico necesario 
							para servicios específicos (SMTP y HTTP), se reduce considerablemente el riesgo 
							de accesos no autorizados.
							</p>

							<p>
							En escenarios reales, especialmente en pequeñas y medianas empresas en México, 
							es común encontrar configuraciones permisivas que exponen múltiples puertos 
							innecesariamente. Implementar reglas específicas por servicio, utilizar 
							seguimiento de estado y documentar adecuadamente la política de firewall 
							fortalece la postura de seguridad organizacional.
							</p>

							<p>
							Además, la correcta administración de iptables debe complementarse con monitoreo 
							de logs, actualización constante del sistema y pruebas periódicas de seguridad, 
							ya que el firewall es solo una capa dentro de una estrategia integral de defensa.
							</p>

							<hr>

							<h3>Referencias técnicas</h3>

							<ul>
							  <li>Guía de administración de iptables en GNU/Linux – Red Hat (Español): https://access.redhat.com/documentation/es-es/</li>
							  <li>Documentación oficial de Ubuntu Server – Configuración de firewall: https://ubuntu.com/server/docs/security-firewall</li>
							  <li>Instituto Nacional de Ciberseguridad (INCIBE) – Buenas prácticas en ciberseguridad: https://www.incibe.es</li>
							  <li>Manual Netfilter / iptables (documentación comunitaria en español): https://www.netfilter.org/documentation/</li>
							</ul>


							<ul class="actions">
								<li>
									<a href="docs/180370-act04.pdf" class="button" download>
										Descargar actividad
									</a>
								</li>
							</ul>

						</article>
					</div>
				</div>

			<!-- Footer -->
				<div id="footer-wrapper">
					<div id="copyright" class="container">
						<ul class="menu">
							<li>&copy; Juan Alejandro Pérez Ventura. Todos los derechos reservados.</li><li>Diseño: <a href="http://html5up.net">HTML5 UP</a></li>
						</ul>
					</div>
				</div>

		</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.dropotron.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
